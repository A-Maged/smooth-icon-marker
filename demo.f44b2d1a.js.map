{"version":3,"sources":["../../node_modules/denque/index.js","../utils.ts","../Marker.ts","../index.ts","fakeData.json","index.ts"],"names":["Denque","array","_head","_tail","_capacityMask","_list","Array","isArray","_fromArray","prototype","peekAt","index","i","len","size","get","peek","peekFront","peekBack","Object","defineProperty","unshift","item","undefined","length","_growArray","shift","head","_shrinkArray","push","tail","pop","removeOne","k","remove","count","removed","del_count","toArray","clear","splice","arguments","temp","arg_len","arguments_index","leng","isEmpty","_copyArray","fullCopy","newArray","list","module","exports","lat","lng"],"mappings":"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,IAAI,iBAAiBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,iBAAiBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,mBAAmB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,mBAAmB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,mBAAmB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,mBAAmB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,mBAAmB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,kBAAkBC,KAAK,oBAAoB,CAACD,IAAI,mBAAmBC,KAAK,mBAAmB,CAACD,IAAI,mBAAmBC,KAAK,oBA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","file":"demo.f44b2d1a.js","sourceRoot":"..","sourcesContent":["'use strict';\n\n/**\n * Custom implementation of a double ended queue.\n */\nfunction Denque(array) {\n  this._head = 0;\n  this._tail = 0;\n  this._capacityMask = 0x3;\n  this._list = new Array(4);\n  if (Array.isArray(array)) {\n    this._fromArray(array);\n  }\n}\n\n/**\n * -------------\n *  PUBLIC API\n * -------------\n */\n\n/**\n * Returns the item at the specified index from the list.\n * 0 is the first element, 1 is the second, and so on...\n * Elements at negative values are that many from the end: -1 is one before the end\n * (the last element), -2 is two before the end (one before last), etc.\n * @param index\n * @returns {*}\n */\nDenque.prototype.peekAt = function peekAt(index) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  var len = this.size();\n  if (i >= len || i < -len) return undefined;\n  if (i < 0) i += len;\n  i = (this._head + i) & this._capacityMask;\n  return this._list[i];\n};\n\n/**\n * Alias for peakAt()\n * @param i\n * @returns {*}\n */\nDenque.prototype.get = function get(i) {\n  return this.peekAt(i);\n};\n\n/**\n * Returns the first item in the list without removing it.\n * @returns {*}\n */\nDenque.prototype.peek = function peek() {\n  if (this._head === this._tail) return undefined;\n  return this._list[this._head];\n};\n\n/**\n * Alias for peek()\n * @returns {*}\n */\nDenque.prototype.peekFront = function peekFront() {\n  return this.peek();\n};\n\n/**\n * Returns the item that is at the back of the queue without removing it.\n * Uses peekAt(-1)\n */\nDenque.prototype.peekBack = function peekBack() {\n  return this.peekAt(-1);\n};\n\n/**\n * Returns the current length of the queue\n * @return {Number}\n */\nObject.defineProperty(Denque.prototype, 'length', {\n  get: function length() {\n    return this.size();\n  }\n});\n\n/**\n * Return the number of items on the list, or 0 if empty.\n * @returns {number}\n */\nDenque.prototype.size = function size() {\n  if (this._head === this._tail) return 0;\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Add an item at the beginning of the list.\n * @param item\n */\nDenque.prototype.unshift = function unshift(item) {\n  if (item === undefined) return this.size();\n  var len = this._list.length;\n  this._head = (this._head - 1 + len) & this._capacityMask;\n  this._list[this._head] = item;\n  if (this._tail === this._head) this._growArray();\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Remove and return the first item on the list,\n * Returns undefined if the list is empty.\n * @returns {*}\n */\nDenque.prototype.shift = function shift() {\n  var head = this._head;\n  if (head === this._tail) return undefined;\n  var item = this._list[head];\n  this._list[head] = undefined;\n  this._head = (head + 1) & this._capacityMask;\n  if (head < 2 && this._tail > 10000 && this._tail <= this._list.length >>> 2) this._shrinkArray();\n  return item;\n};\n\n/**\n * Add an item to the bottom of the list.\n * @param item\n */\nDenque.prototype.push = function push(item) {\n  if (item === undefined) return this.size();\n  var tail = this._tail;\n  this._list[tail] = item;\n  this._tail = (tail + 1) & this._capacityMask;\n  if (this._tail === this._head) {\n    this._growArray();\n  }\n\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Remove and return the last item on the list.\n * Returns undefined if the list is empty.\n * @returns {*}\n */\nDenque.prototype.pop = function pop() {\n  var tail = this._tail;\n  if (tail === this._head) return undefined;\n  var len = this._list.length;\n  this._tail = (tail - 1 + len) & this._capacityMask;\n  var item = this._list[this._tail];\n  this._list[this._tail] = undefined;\n  if (this._head < 2 && tail > 10000 && tail <= len >>> 2) this._shrinkArray();\n  return item;\n};\n\n/**\n * Remove and return the item at the specified index from the list.\n * Returns undefined if the list is empty.\n * @param index\n * @returns {*}\n */\nDenque.prototype.removeOne = function removeOne(index) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  if (this._head === this._tail) return void 0;\n  var size = this.size();\n  var len = this._list.length;\n  if (i >= size || i < -size) return void 0;\n  if (i < 0) i += size;\n  i = (this._head + i) & this._capacityMask;\n  var item = this._list[i];\n  var k;\n  if (index < size / 2) {\n    for (k = index; k > 0; k--) {\n      this._list[i] = this._list[i = (i - 1 + len) & this._capacityMask];\n    }\n    this._list[i] = void 0;\n    this._head = (this._head + 1 + len) & this._capacityMask;\n  } else {\n    for (k = size - 1 - index; k > 0; k--) {\n      this._list[i] = this._list[i = ( i + 1 + len) & this._capacityMask];\n    }\n    this._list[i] = void 0;\n    this._tail = (this._tail - 1 + len) & this._capacityMask;\n  }\n  return item;\n};\n\n/**\n * Remove number of items from the specified index from the list.\n * Returns array of removed items.\n * Returns undefined if the list is empty.\n * @param index\n * @param count\n * @returns {array}\n */\nDenque.prototype.remove = function remove(index, count) {\n  var i = index;\n  var removed;\n  var del_count = count;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  if (this._head === this._tail) return void 0;\n  var size = this.size();\n  var len = this._list.length;\n  if (i >= size || i < -size || count < 1) return void 0;\n  if (i < 0) i += size;\n  if (count === 1 || !count) {\n    removed = new Array(1);\n    removed[0] = this.removeOne(i);\n    return removed;\n  }\n  if (i === 0 && i + count >= size) {\n    removed = this.toArray();\n    this.clear();\n    return removed;\n  }\n  if (i + count > size) count = size - i;\n  var k;\n  removed = new Array(count);\n  for (k = 0; k < count; k++) {\n    removed[k] = this._list[(this._head + i + k) & this._capacityMask];\n  }\n  i = (this._head + i) & this._capacityMask;\n  if (index + count === size) {\n    this._tail = (this._tail - count + len) & this._capacityMask;\n    for (k = count; k > 0; k--) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n    }\n    return removed;\n  }\n  if (index === 0) {\n    this._head = (this._head + count + len) & this._capacityMask;\n    for (k = count - 1; k > 0; k--) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n    }\n    return removed;\n  }\n  if (i < size / 2) {\n    this._head = (this._head + index + count + len) & this._capacityMask;\n    for (k = index; k > 0; k--) {\n      this.unshift(this._list[i = (i - 1 + len) & this._capacityMask]);\n    }\n    i = (this._head - 1 + len) & this._capacityMask;\n    while (del_count > 0) {\n      this._list[i = (i - 1 + len) & this._capacityMask] = void 0;\n      del_count--;\n    }\n    if (index < 0) this._tail = i;\n  } else {\n    this._tail = i;\n    i = (i + count + len) & this._capacityMask;\n    for (k = size - (count + index); k > 0; k--) {\n      this.push(this._list[i++]);\n    }\n    i = this._tail;\n    while (del_count > 0) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n      del_count--;\n    }\n  }\n  if (this._head < 2 && this._tail > 10000 && this._tail <= len >>> 2) this._shrinkArray();\n  return removed;\n};\n\n/**\n * Native splice implementation.\n * Remove number of items from the specified index from the list and/or add new elements.\n * Returns array of removed items or empty array if count == 0.\n * Returns undefined if the list is empty.\n *\n * @param index\n * @param count\n * @param {...*} [elements]\n * @returns {array}\n */\nDenque.prototype.splice = function splice(index, count) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  var size = this.size();\n  if (i < 0) i += size;\n  if (i > size) return void 0;\n  if (arguments.length > 2) {\n    var k;\n    var temp;\n    var removed;\n    var arg_len = arguments.length;\n    var len = this._list.length;\n    var arguments_index = 2;\n    if (!size || i < size / 2) {\n      temp = new Array(i);\n      for (k = 0; k < i; k++) {\n        temp[k] = this._list[(this._head + k) & this._capacityMask];\n      }\n      if (count === 0) {\n        removed = [];\n        if (i > 0) {\n          this._head = (this._head + i + len) & this._capacityMask;\n        }\n      } else {\n        removed = this.remove(i, count);\n        this._head = (this._head + i + len) & this._capacityMask;\n      }\n      while (arg_len > arguments_index) {\n        this.unshift(arguments[--arg_len]);\n      }\n      for (k = i; k > 0; k--) {\n        this.unshift(temp[k - 1]);\n      }\n    } else {\n      temp = new Array(size - (i + count));\n      var leng = temp.length;\n      for (k = 0; k < leng; k++) {\n        temp[k] = this._list[(this._head + i + count + k) & this._capacityMask];\n      }\n      if (count === 0) {\n        removed = [];\n        if (i != size) {\n          this._tail = (this._head + i + len) & this._capacityMask;\n        }\n      } else {\n        removed = this.remove(i, count);\n        this._tail = (this._tail - leng + len) & this._capacityMask;\n      }\n      while (arguments_index < arg_len) {\n        this.push(arguments[arguments_index++]);\n      }\n      for (k = 0; k < leng; k++) {\n        this.push(temp[k]);\n      }\n    }\n    return removed;\n  } else {\n    return this.remove(i, count);\n  }\n};\n\n/**\n * Soft clear - does not reset capacity.\n */\nDenque.prototype.clear = function clear() {\n  this._head = 0;\n  this._tail = 0;\n};\n\n/**\n * Returns true or false whether the list is empty.\n * @returns {boolean}\n */\nDenque.prototype.isEmpty = function isEmpty() {\n  return this._head === this._tail;\n};\n\n/**\n * Returns an array of all queue items.\n * @returns {Array}\n */\nDenque.prototype.toArray = function toArray() {\n  return this._copyArray(false);\n};\n\n/**\n * -------------\n *   INTERNALS\n * -------------\n */\n\n/**\n * Fills the queue with items from an array\n * For use in the constructor\n * @param array\n * @private\n */\nDenque.prototype._fromArray = function _fromArray(array) {\n  for (var i = 0; i < array.length; i++) this.push(array[i]);\n};\n\n/**\n *\n * @param fullCopy\n * @returns {Array}\n * @private\n */\nDenque.prototype._copyArray = function _copyArray(fullCopy) {\n  var newArray = [];\n  var list = this._list;\n  var len = list.length;\n  var i;\n  if (fullCopy || this._head > this._tail) {\n    for (i = this._head; i < len; i++) newArray.push(list[i]);\n    for (i = 0; i < this._tail; i++) newArray.push(list[i]);\n  } else {\n    for (i = this._head; i < this._tail; i++) newArray.push(list[i]);\n  }\n  return newArray;\n};\n\n/**\n * Grows the internal list array.\n * @private\n */\nDenque.prototype._growArray = function _growArray() {\n  if (this._head) {\n    // copy existing data, head to end, then beginning to tail.\n    this._list = this._copyArray(true);\n    this._head = 0;\n  }\n\n  // head is at 0 and array is now full, safe to extend\n  this._tail = this._list.length;\n\n  this._list.length *= 2;\n  this._capacityMask = (this._capacityMask << 1) | 1;\n};\n\n/**\n * Shrinks the internal list array.\n * @private\n */\nDenque.prototype._shrinkArray = function _shrinkArray() {\n  this._list.length >>>= 1;\n  this._capacityMask >>>= 1;\n};\n\n\nmodule.exports = Denque;\n","export const gMaps = google.maps;\n\nexport const gInterpolate = google.maps.geometry.spherical.interpolate;\n\nexport function sleep(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","import Denque from \"denque\";\nimport { gInterpolate, gMaps } from \"./utils\";\nimport { MarkerOptions, LatLng } from \"./types\";\n\nconst DEFAULT_DURATION_MS = 100;\nconst ANIMATION_LOOP_CHANGE_BY = 1;\nconst ANIMATION_LOOP_RESET_AT = 0;\n\nexport default class Marker extends gMaps.Marker {\n  currentDestination: LatLng | null;\n  durationMs: number;\n  cbBeforeMove?: Function;\n  cbAfterMove?: Function;\n  private bigSteps: Denque;\n  private offsetPositionBy: number;\n  private animationCounter: number;\n\n  constructor(args: MarkerOptions) {\n    let {\n      durationMs = DEFAULT_DURATION_MS,\n      cbBeforeMove,\n      cbAfterMove,\n      ...options\n    } = args;\n\n    super(options);\n\n    this.currentDestination = null;\n    this.durationMs = durationMs;\n    this.cbBeforeMove = cbBeforeMove;\n    this.cbAfterMove = cbAfterMove;\n    /* private */\n    this.bigSteps = new Denque();\n    this.offsetPositionBy = 0;\n    this.animationCounter = this.animationCounterInitState();\n  }\n\n  animatedSetPosition(nextStep: LatLng) {\n    this.bigSteps.push(nextStep);\n    this.animate();\n  }\n\n  private animate() {\n    this.animationCounter -= ANIMATION_LOOP_CHANGE_BY;\n\n    if (this.animationCounter <= ANIMATION_LOOP_RESET_AT) {\n      this.resetAnimation();\n    } else {\n      if (typeof this.cbBeforeMove === \"function\")\n        this.cbBeforeMove(this.getPosition());\n\n      const nextPosition = this.move(); /* move a small step towards current destination */\n\n      if (typeof this.cbAfterMove === \"function\")\n        this.cbAfterMove(nextPosition);\n\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n  private resetAnimation() {\n    this.currentDestination = this.bigSteps.shift();\n    this.offsetPositionBy = 0;\n    this.animationCounter = this.animationCounterInitState();\n  }\n\n  private move(): LatLng {\n    this.currentDestination = this.currentDestination ?? this.bigSteps.shift();\n    const startPosition = this.getPosition() as LatLng;\n    const endPosition = this.currentDestination as LatLng;\n    this.offsetPositionBy += 100 / (this.durationMs * 6000);\n\n    const smallStep = gInterpolate(\n      startPosition,\n      endPosition,\n      this.offsetPositionBy\n    );\n\n    if (this.currentDestination) this.changeDirection(this.currentDestination);\n    this.setPosition(smallStep);\n\n    return smallStep;\n  }\n\n  changeDirection(newPosition: LatLng) {\n    let currentPosition = this.getPosition();\n    if (!currentPosition) return;\n\n    let icon = this.getIcon() as google.maps.Symbol;\n    if (typeof icon !== \"object\") return;\n\n    icon.rotation = gMaps.geometry.spherical.computeHeading(\n      currentPosition,\n      newPosition\n    );\n\n    this.setIcon(icon);\n  }\n\n  private animationCounterInitState() {\n    return this.durationMs;\n  }\n}\n","import SmoothMarker from \"../index\";\nimport fakeMapPoints from \"./fakeData.json\";\n\nconst carSymbol = {\n  path:\n    \"M29.395,0H17.636c-3.117,0-5.643,3.467-5.643,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759   c3.116,0,5.644-2.527,5.644-5.644V6.584C35.037,3.467,32.511,0,29.395,0z M34.05,14.188v11.665l-2.729,0.351v-4.806L34.05,14.188z    M32.618,10.773c-1.016,3.9-2.219,8.51-2.219,8.51H16.631l-2.222-8.51C14.41,10.773,23.293,7.755,32.618,10.773z M15.741,21.713   v4.492l-2.73-0.349V14.502L15.741,21.713z M13.011,37.938V27.579l2.73,0.343v8.196L13.011,37.938z M14.568,40.882l2.218-3.336   h13.771l2.219,3.336H14.568z M31.321,35.805v-7.872l2.729-0.355v10.048L31.321,35.805\",\n  scale: 1,\n  fillColor: \"red\",\n  fillOpacity: 1,\n  strokeWeight: 1,\n  strokeOpacity: 1,\n  anchor: new google.maps.Point(22, 35),\n};\n\nconst startPosition = new google.maps.LatLng(\n  fakeMapPoints[0].lat,\n  fakeMapPoints[0].lng\n);\n\n/* init map */\nconst map = new google.maps.Map(document.getElementById(\"map\") as HTMLElement, {\n  center: startPosition,\n  zoom: 18,\n});\n\n/* Our Marker */\nlet marker = new SmoothMarker({\n  icon: carSymbol,\n  map,\n  position: startPosition,\n  durationMs: 90,\n  cbAfterMove: drawPath,\n});\n\nconst trailLine = new google.maps.Polyline({\n  path: [],\n  map,\n});\n\n(async function simulateMovingDevice(marker: SmoothMarker) {\n  for (const nextPoint of fakeMapPoints) {\n    const newPosition = new google.maps.LatLng(nextPoint.lat, nextPoint.lng);\n\n    marker.animatedSetPosition(newPosition);\n\n    /* simulate device send interval and network latency */\n    await sleep(100);\n  }\n})(marker);\n\nfunction drawPath(newPosition: google.maps.LatLng) {\n  trailLine.getPath().push(newPosition);\n}\n\nfunction sleep(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","module.exports=[{lat:35.9588769088931,lng:-115.12207388877869},{lat:35.95890730405862,lng:-115.1219826936722},{lat:35.958939870294394,lng:-115.12191027402879},{lat:35.95894638353994,lng:-115.12184724211696},{lat:35.95897569313823,lng:-115.12176409363748},{lat:35.95901802920547,lng:-115.1216380298138},{lat:35.959036483381524,lng:-115.12157365679744},{lat:35.9590592797107,lng:-115.12151062488557},{lat:35.95907881941617,lng:-115.12144759297372},{lat:35.959109214503975,lng:-115.12137919664384},{lat:35.95914395173285,lng:-115.1212812960148},{lat:35.959156978189746,lng:-115.12121692299844},{lat:35.959183031097076,lng:-115.12116327881814},{lat:35.959202570771936,lng:-115.12109622359279},{lat:35.959234051349036,lng:-115.12099966406822},{lat:35.95924816332782,lng:-115.12093260884286},{lat:35.95927855835044,lng:-115.1208682358265},{lat:35.959312209969006,lng:-115.12073546648027},{lat:35.959343690502415,lng:-115.12069523334505},{lat:35.959372999953274,lng:-115.1206348836422},{lat:35.959400138324,lng:-115.12055307626727},{lat:35.95941967794515,lng:-115.12048602104188},{lat:35.95943270435655,lng:-115.12042298913003},{lat:35.95945115843571,lng:-115.12035191059114},{lat:35.9594739546452,lng:-115.12029424309732},{lat:35.95950326404771,lng:-115.12020304799081},{lat:35.95953365897216,lng:-115.12007966637614},{lat:35.95955862622278,lng:-115.12004882097246},{lat:35.95958576452974,lng:-115.11997640132905},{lat:35.9596020475094,lng:-115.11991471052171},{lat:35.959617244954096,lng:-115.1198597252369},{lat:35.959630271332934,lng:-115.11981010437013},{lat:35.959611003146804,lng:-115.11979535222055},{lat:35.95959363463699,lng:-115.11978998780252},{lat:35.959564325268005,lng:-115.11977054178716},{lat:35.95955129887831,lng:-115.1197635009885},{lat:35.95953257343934,lng:-115.11974941939117},{lat:35.959521175343895,lng:-115.1197360083461},{lat:35.95950760618048,lng:-115.11973265558484},{lat:35.95948698104765,lng:-115.11971723288299},{lat:35.95945197258616,lng:-115.11968906968833},{lat:35.95943921756144,lng:-115.11968001723292},{lat:35.959433247123656,lng:-115.1196773350239},{lat:35.95942917637034,lng:-115.11967163532972},{lat:35.95941777825996,lng:-115.11966358870269},{lat:35.95940909398428,lng:-115.11966057121754},{lat:35.95940095247498,lng:-115.11965453624727},{lat:35.959394439266916,lng:-115.11965051293375},{lat:35.95938819744202,lng:-115.11964213103057},{lat:35.95937924177937,lng:-115.11963307857515},{lat:35.95936675812667,lng:-115.11962469667198},{lat:35.959359430764415,lng:-115.11962033808233},{lat:35.95934884679548,lng:-115.11961329728368},{lat:35.959318994567774,lng:-115.11958915740253},{lat:35.95930732505751,lng:-115.11957943439485},{lat:35.95929402724141,lng:-115.1195673644543},{lat:35.95925657623703,lng:-115.11954121291639},{lat:35.95921749690919,lng:-115.11950835585594},{lat:35.95911464219698,lng:-115.11942654848102},{lat:35.95909401696152,lng:-115.11941481381658},{lat:35.95907719110756,lng:-115.11940073221923},{lat:35.959068506794424,lng:-115.1193953678012},{lat:35.959050324010725,lng:-115.11937927454711},{lat:35.9590359406117,lng:-115.11937323957682},{lat:35.9590269849091,lng:-115.1193628460169},{lat:35.95901124458085,lng:-115.11935546994211},{lat:35.95899794671488,lng:-115.11933870613575},{lat:35.958972707901864,lng:-115.11932093650104},{lat:35.95895099708855,lng:-115.11930484324695},{lat:35.95893227150724,lng:-115.11928908526899},{lat:35.95890187635134,lng:-115.11926896870139},{lat:35.958883964914705,lng:-115.11925488710405},{lat:35.95887148118374,lng:-115.11924549937251},{lat:35.95885031311371,lng:-115.11923208832742},{lat:35.95881069081348,lng:-115.1192042604089},{lat:35.95879603598505,lng:-115.11919420212509},{lat:35.95878056699658,lng:-115.11918213218453},{lat:35.958759941673875,lng:-115.11916335672142},{lat:35.958747457923295,lng:-115.1191479340196},{lat:35.95873497417075,lng:-115.11914022266865},{lat:35.958708649729594,lng:-115.11912010610104},{lat:35.958680425576716,lng:-115.11910133063795},{lat:35.95866631349651,lng:-115.11909026652576},{lat:35.95863266160276,lng:-115.11905372142793},{lat:35.95859575305764,lng:-115.11904299259187},{lat:35.95858706869157,lng:-115.11901617050172},{lat:35.95855016012515,lng:-115.11898934841157},{lat:35.9585338769286,lng:-115.11897861957551},{lat:35.95851650818189,lng:-115.11896252632143},{lat:35.95849371169608,lng:-115.11894106864929},{lat:35.958477428487875,lng:-115.11892899870875},{lat:35.95846765856135,lng:-115.11892497539522},{lat:35.95845028980009,lng:-115.11890619993213},{lat:35.95841338116975,lng:-115.11887803673746}];","import SmoothMarker from \"../index\";\nimport fakeMapPoints from \"./fakeData.json\";\n\nconst carSymbol = {\n  path:\n    \"M29.395,0H17.636c-3.117,0-5.643,3.467-5.643,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759   c3.116,0,5.644-2.527,5.644-5.644V6.584C35.037,3.467,32.511,0,29.395,0z M34.05,14.188v11.665l-2.729,0.351v-4.806L34.05,14.188z    M32.618,10.773c-1.016,3.9-2.219,8.51-2.219,8.51H16.631l-2.222-8.51C14.41,10.773,23.293,7.755,32.618,10.773z M15.741,21.713   v4.492l-2.73-0.349V14.502L15.741,21.713z M13.011,37.938V27.579l2.73,0.343v8.196L13.011,37.938z M14.568,40.882l2.218-3.336   h13.771l2.219,3.336H14.568z M31.321,35.805v-7.872l2.729-0.355v10.048L31.321,35.805\",\n  scale: 1,\n  fillColor: \"red\",\n  fillOpacity: 1,\n  strokeWeight: 1,\n  strokeOpacity: 1,\n  anchor: new google.maps.Point(22, 35),\n};\n\nconst startPosition = new google.maps.LatLng(\n  fakeMapPoints[0].lat,\n  fakeMapPoints[0].lng\n);\n\n/* init map */\nconst map = new google.maps.Map(document.getElementById(\"map\") as HTMLElement, {\n  center: startPosition,\n  zoom: 18,\n});\n\n/* Our Marker */\nlet marker = new SmoothMarker({\n  icon: carSymbol,\n  map,\n  position: startPosition,\n  durationMs: 90,\n  cbAfterMove: drawPath,\n});\n\nconst trailLine = new google.maps.Polyline({\n  path: [],\n  map,\n});\n\n(async function simulateMovingDevice(marker: SmoothMarker) {\n  for (const nextPoint of fakeMapPoints) {\n    const newPosition = new google.maps.LatLng(nextPoint.lat, nextPoint.lng);\n\n    marker.animatedSetPosition(newPosition);\n\n    /* simulate device send interval and network latency */\n    await sleep(100);\n  }\n})(marker);\n\nfunction drawPath(newPosition: google.maps.LatLng) {\n  trailLine.getPath().push(newPosition);\n}\n\nfunction sleep(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n"]}